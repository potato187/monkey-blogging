import React, { useState } from "react";
import PropTypes from "prop-types";
import styled from "styled-components";
import { useField } from "../../context/ContextField";

const IconStyled = styled.div`
	display: inline-flex;
	justify-content: center;
	align-items: center;
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	right: 20px;
	z-index: 10;
	cursor: pointer;
`;

const IconPasswordShow = () => (
	<svg width='21' height='17' viewBox='0 0 21 17' fill='none' xmlns='http://www.w3.org/2000/svg'>
		<path
			d='M20.8853 7.67227C18.866 2.98227 15.0673 0.0722656 10.9688 0.0722656C6.87018 0.0722656 3.0715 2.98227 1.05221 7.67227C0.997162 7.79843 0.96875 7.93461 0.96875 8.07227C0.96875 8.20992 0.997162 8.3461 1.05221 8.47227C3.0715 13.1623 6.87018 16.0723 10.9688 16.0723C15.0673 16.0723 18.866 13.1623 20.8853 8.47227C20.9403 8.3461 20.9688 8.20992 20.9688 8.07227C20.9688 7.93461 20.9403 7.79843 20.8853 7.67227V7.67227ZM10.9688 14.0723C7.79985 14.0723 4.8009 11.7823 3.0715 8.07227C4.8009 4.36227 7.79985 2.07227 10.9688 2.07227C14.1376 2.07227 17.1366 4.36227 18.866 8.07227C17.1366 11.7823 14.1376 14.0723 10.9688 14.0723ZM10.9688 4.07227C10.1779 4.07227 9.40481 4.30686 8.74724 4.74639C8.08968 5.18591 7.57716 5.81063 7.27452 6.54153C6.97187 7.27244 6.89269 8.0767 7.04698 8.85263C7.20126 9.62855 7.58209 10.3413 8.14131 10.9007C8.70052 11.4601 9.41301 11.8411 10.1887 11.9954C10.9643 12.1497 11.7683 12.0705 12.499 11.7678C13.2296 11.465 13.8541 10.9523 14.2935 10.2945C14.7328 9.63675 14.9674 8.86339 14.9674 8.07227C14.9674 7.0114 14.5461 5.99398 13.7962 5.24384C13.0463 4.49369 12.0292 4.07227 10.9688 4.07227V4.07227ZM10.9688 10.0723C10.5733 10.0723 10.1868 9.95497 9.858 9.7352C9.52921 9.51544 9.27296 9.20308 9.12163 8.83763C8.97031 8.47218 8.93072 8.07005 9.00786 7.68209C9.08501 7.29412 9.27542 6.93776 9.55503 6.65805C9.83464 6.37835 10.1909 6.18787 10.5787 6.11069C10.9665 6.03352 11.3685 6.07313 11.7339 6.22451C12.0992 6.37588 12.4114 6.63223 12.6311 6.96113C12.8508 7.29002 12.9681 7.6767 12.9681 8.07227C12.9681 8.6027 12.7574 9.11141 12.3825 9.48648C12.0075 9.86155 11.499 10.0723 10.9688 10.0723Z'
			fill='#B1B5C4'
		/>
	</svg>
);

const IconPasswordHidden = () => (
	<svg width='22' height='20' viewBox='0 0 22 20' fill='none' xmlns='http://www.w3.org/2000/svg'>
		<path
			d='M13.5356 8.46454C13.7677 8.69669 13.9519 8.97229 14.0775 9.27561C14.2032 9.57892 14.2678 9.90401 14.2678 10.2323C14.2678 10.5606 14.2031 10.8857 14.0775 11.189C13.9518 11.4923 13.7677 11.7679 13.5355 12.0001C13.3034 12.2322 13.0278 12.4164 12.7245 12.542C12.4211 12.6676 12.0961 12.7323 11.7678 12.7323C11.4394 12.7323 11.1144 12.6676 10.811 12.5419C10.5077 12.4163 10.2321 12.2322 10 12'
			stroke='#999999'
			strokeWidth='1.5'
			strokeLinecap='round'
		/>
		<path
			d='M11 4C7.04003 4 4.01115 6.27449 1.4755 9.39738C1.19014 9.74883 1.19009 10.2511 1.47544 10.6025C2.18711 11.479 2.93763 12.2887 3.73669 13M6.74043 15.0348C8.03446 15.6495 9.44549 16 11 16C11.2884 16 11.5719 15.9879 11.8507 15.9643L12.2607 15.9122M15.7029 5.18844C17.5178 6.15443 19.0991 7.64187 20.5245 9.39741C20.8099 9.74885 20.8099 10.2512 20.5245 10.6026C19.1774 12.2617 17.6911 13.6813 16 14.6476'
			stroke='#999999'
			strokeWidth='1.4'
			strokeLinecap='round'
			strokeLinejoin='round'
		/>
		<path
			d='M19.1217 1.11547L1.9998 18.9996'
			stroke='#999999'
			strokeWidth='1.5'
			strokeLinecap='round'
			strokeLinejoin='round'
		/>
	</svg>
);

const Icon = ({ children, ...restProps }) => {
	return <IconStyled {...restProps}>{children}</IconStyled>;
};

Icon.IconPassword = function IconPassword() {
	const { visible, handleVisible } = useField();
	return <IconStyled onClick={handleVisible}>{visible ? <IconPasswordHidden /> : <IconPasswordShow />}</IconStyled>;
};

Icon.propTypes = {};

export default Icon;
